{"version":3,"sources":["src/utils.ts","src/hooks/useGrid.ts","docs/serviceWorker.ts","src/hooks/useMedia.ts","docs/examples/Basic.tsx","src/hooks/useGrids.ts","docs/examples/Grid.tsx","docs/examples/Grids.tsx","src/hooks/useView.ts","docs/examples/View.tsx","docs/index.tsx"],"names":["defaultMedia","media","matches","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","_","defaultConfig","mediaConfig","size","xs","sm","md","lg","xl","width","window","innerWidth","widthRef","mediaType","viewConfig","once","onView","timeout","defaultView","prefix","convertNumToPix","value","config","element","Element","current","clientWidth","Number","Array","every","v","margin","filter","map","reduce","a","b","convertObjToStr","query","Object","entries","key","val","replace","s","toLowerCase","test","join","mergeConfig","props","configs","initConfig","assign","fromEntries","p","some","conf","find","convertPropsToList","keys","toN","k","toS","i","grid","length","m","xsGr","g","gtos","noGr","convertPrefixToList","convertFuncToList","list","shallowEqual","objA","objB","keysA","keysB","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","createGrid","effect","initProps","refs","useState","cP2L","setList","view","setView","l","setGrid","noneRef","useRef","gridRef","viewRef","fill","set","useCallback","initState","state","mounted","medias","q","fn","undefined","matchMedia","Boolean","observers","ref","el","observer","IntersectionObserver","entry","setTimeout","isIntersecting","unobserve","root","observe","useGrid","useEffect","useLayoutGrid","useLayoutEffect","location","hostname","match","createMedia","rawQuery","defaultState","onChange","useMedia","Basic","isMedium","minWidth","maxWidth","fontSize","style","textAlign","onClick","createGrids","cofig","cF2L","grids","useGrids","useLayoutGrids","Grid","face","React","ws","display","emoji","Grids","widths","height","color","background","createView","target","callback","initialConfig","configRef","useView","View","ref1","ref2","isView","none","init","bool","transition","App","navigator","language","lang","setLang","dark","setDark","setSize","minHeight","padding","initOrder","Examples","Example","href","toUpperCase","ReactDOM","render","document","getElementById","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.f48f78a5.chunk.js","sourcesContent":["import {MediaList, MediaObject, MediaString, Config} from './types'\r\n//  ************************* ðŸ“º useMedia ðŸ“º *************************  //\r\nexport const defaultMedia : MediaString = {\r\n    media: '',\r\n    matches: false,\r\n    onchange: ()=>{},\r\n    addListener: ()=>{},\r\n    removeListener: ()=>{},\r\n    addEventListener: ()=>{},\r\n    removeEventListener: ()=>{},\r\n    dispatchEvent: (_: Event) => true,\r\n};\r\nexport const defaultConfig : Config = {\r\n    mediaConfig:{\r\n        size  : {xs:1,sm:576,md:768,lg:992,xl:1200},\r\n        width : window.innerWidth,\r\n        widthRef:null,\r\n        mediaType:null,\r\n    },\r\n    viewConfig:{\r\n        once:false,\r\n        onView:null,\r\n        timeout:0,\r\n        defaultView:true,\r\n    },\r\n    prefix : ['none','init','onView','mediaConfig','viewConfig']\r\n}\r\nexport function convertNumToPix <T=any> (\r\n    value:T, config:Config=defaultConfig\r\n) : T {\r\n    const widthRef = config.widthRef\r\n    const element = widthRef instanceof Element?widthRef:widthRef?.current\r\n    const width = element ? element.clientWidth : window.innerWidth\r\n    if ( typeof value===\"number\" && value**2 < 1 )\r\n        return value<0\r\n            ? ~~( width*(Number(value)+1) ) as unknown as T\r\n            : ~~( width*Number(value)     ) as unknown as T\r\n    if ( value instanceof Array && value.every(v=>typeof v===\"number\") ) {\r\n        const margin = width - value.filter(v=>v>0).map(v=>v>1?v:width*Number(v)).reduce((a,b)=>a+b)\r\n         //console.log(width, margin);\r\n        return value.map(v=> v===0 ? 0 : v<0\r\n            ? (v<-1?v:~~(-margin*Number(v) ))\r\n            : (v> 1?v:~~(  width*Number(v) ))) as unknown as T\r\n    }\r\n    return value\r\n}\r\nexport function convertObjToStr<T=string|number|boolean>(\r\n    query:string|MediaObject<T>,\r\n    config:Config = defaultConfig,\r\n) : string {\r\n    if (typeof query==='string') return query;\r\n    return [ config.mediaType||'', ...Object\r\n        .entries(query)\r\n        .map( ([key,val]:[string,T]) : [string,T] =>\r\n            [ key.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`).toLowerCase(), val ])\r\n        .map( ([key,val]:[string,T]) : string => (typeof val==='boolean')\r\n          ? `${val?'':'not '}${key}`\r\n          : `(${key}: ${  typeof val==='number' && /[height|width]$/.test(key)\r\n              ? `${convertNumToPix(val,config)}px`\r\n              : val })`)\r\n    ].filter(v=>v).join(' and ');\r\n}\r\n//  ************************* ðŸ‘Œ useGrid ðŸ‘Œ *************************  //\r\n//  * mergeConfig\r\n//  *   * initProps :{...size, ...prefix}\r\n//  *   * initConfig:{xConfig, prefix, ...xConfig, ...prefix}\r\n//  *   *  => {...xConfig, ...prefix} = defaultProps\r\n//  * convertPropsToList\r\n//  *   * {md:0, lg:.5, {min...}:1}      =Object.entries=>\r\n//  *   * [[md,0],[lg,.5],[min...,1]]    =[convertObjToStr,convertNumToPix]=>\r\n//  *   * [[md,0],[lg:100],[min...,200]] =convertPrefixToList=>\r\n//  *   * [['min-width...',0],[min-width...,.5]]\r\n//  ************************* ************* *************************  //\r\nexport const mergeConfig = <T=any>(\r\n    props:MediaList<T>[], config:Config\r\n) : Config => {\r\n    const {prefix, viewConfig, mediaConfig, ...initConfig} = config\r\n    const configs = {viewConfig, mediaConfig, initConfig}\r\n    return Object.assign({},\r\n        Object.fromEntries( props.filter(p=>prefix.some(key=>key===p[0])) ),\r\n     ...Object.entries(configs).map( ([key,conf]:[string,any])=>({\r\n            ...(( props.find(p=>p[0]===key) || [null,{}] )[1]), ...conf\r\n        }) ),\r\n    )\r\n}\r\nexport function convertPrefixToList <T=any>(\r\n    props:[string,T][],\r\n    {size={xs:1,sm:576,md:768,lg:992,xl:1200}}:Config\r\n) : [string,T][] {\r\n    const keys = Object.keys(size)\r\n    const toN = (key:string) :number => keys.find(k=>k===key)? size[key] : 0\r\n    const toS = (key:string,i:number,grid:[string,T][]) =>`(min-width:${ toN(key) }px)${\r\n        i+1-grid.length<0 ? ` and (max-width:${toN(grid[i+1][0])-1}px)` : ''\r\n    }`\r\n     //const rmNone =(key:string):string=>key.replace(/(-none|none)/gi, '')  // ??\r\n    const grid = keys.map(s=>props.find(p=>p[0]===s)||null).filter(m=>m!==null) as [string,T][]\r\n    const xsGr = (grid.length)?grid.find(g=>g[0]===\"xs\")?[]:[[\"xs\",grid[0][1]]] as [string,T][]:[]\r\n    const gtos = [...xsGr,...grid].map((g,i)=>[toS(g[0],i,grid), g[1]])         as [string,T][]\r\n    const noGr = (grid.length)?props.filter(p=>!keys.find(s=>s===p[0])) : props\r\n    return [...noGr, ...gtos]  // as [string,T][]\r\n}\r\nexport function convertPropsToList <T=any> (\r\n    props:MediaList<T>[], config:Config\r\n) : [string,T][] {\r\n    const prefix = props.map( ([key,val])=>[  //TODO\r\n        convertObjToStr(key, config),\r\n        convertNumToPix<T>(val, config)\r\n    ]) as [string,T][]\r\n    return convertPrefixToList<T>(prefix, config)\r\n}\r\n//  ************************* ðŸ‘ŒðŸ‘Œ useGrids ðŸ‘ŒðŸ‘Œ *************************  //\r\n//  *Inputting an array as \"return value of initialFunc\" is not yet implemented.\r\n//  *That is, it supports only the left side of the following types\r\n//  *    GridProps<T=any> = {[key:string]:T} | MediaList<T>[]\r\n//  *So you cant use G<T> Type as previous code!\r\n//  ***********************************************************  //\r\nexport function convertFuncToList <T=any> (\r\n    props:{[key:string]:T}[]\r\n) {\r\n    const list = props.map((p:any)=>p instanceof Array?p:Object.entries(p))\r\n    return list[0].map(p=>p[0]).map(key =>\r\n        [key, list.map(p=>(p.find(v=>v[0]===key) as any)[1])]\r\n    ) as [string, T[]][]\r\n}\r\n//  ************************* ðŸ¥° shallowEqual ðŸ¥° *************************  //\r\n//  * Ref : https://github.com/dashed/shallowequal/blob/master/index.js\r\n//  ************************* ******************* *************************  //\r\nexport function shallowEqual(objA:any, objB:any) {\r\n    if (objA===objB)\r\n        return true;\r\n    if (typeof objA!==\"object\" || !objA|| typeof objB!==\"object\" || !objB)\r\n        return false;\r\n    const keysA = Object.keys(objA), keysB = Object.keys(objB);\r\n    if (keysA.length !== keysB.length)\r\n        return false;\r\n    const bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\r\n    for (var idx = 0; idx < keysA.length; idx++) {\r\n        const key = keysA[idx];\r\n        if (!bHasOwnProperty(key) || objA[key]!==objB[key])\r\n            return false;\r\n    }\r\n    return true;\r\n};\r\n","import {useLayoutEffect, useEffect, useCallback, useState, useRef} from 'react';\r\nimport {Effect, Config, GridProps as GP, ExtendProps as EP, BasicProps, BasicState, BasicAction} from '../types'\r\nimport {defaultConfig, defaultMedia, convertPropsToList as cP2L, mergeConfig} from '../utils'\r\n\r\nconst createGrid = (effect:Effect) => <T extends any>(\r\n    initProps : BasicProps<GP<T|EP>>,\r\n    refs : React.RefObject<Element>[] | Element[]  = [],\r\n    initConfig:Config=defaultConfig,\r\n) : [T, BasicAction<GP<T|EP>>] => {\r\n    if (typeof initProps==='function')\r\n        initProps = initProps()\r\n    const props = initProps instanceof Array ? initProps : Object.entries(initProps)\r\n    const [config] = useState<Config>(()=>mergeConfig<T|EP>(props, initConfig)) //TODO:set\r\n    // ********** âžŠ grid : output value that match your media query ********** //\r\n    const [list, setList] = useState<[string,T|EP][]>( cP2L<T|EP>(props,config) )\r\n    const [view, setView] = useState<boolean>((config as any).defaultView)\r\n    const [grid, setGrid] = useState<T>((list.filter(l=>l[0]===\"init\")[0]||list[0])[1] as T)\r\n    const noneRef = useRef<T|null>(null)\r\n    const gridRef = useRef<GP<T|EP>>(initProps)\r\n    const viewRef = useRef<boolean[]>(Array(refs.length).fill(view))\r\n    // ********** âž‹ set : Functions to change media conditions later ********** //\r\n    const set = useCallback<BasicAction<GP<T|EP>>>( (initState:BasicState<GP<T|EP>>) => {\r\n        if (typeof initState===\"function\")\r\n            initState = initState(gridRef.current)\r\n        gridRef.current = initState\r\n        const state = initState instanceof Array ? initState : Object.entries(initState)\r\n        setList ( cP2L(state, config) )\r\n    }, [config])\r\n\r\n    // ********** ðŸ“º âžŒ effect : for useMedia ðŸ“º ********** //\r\n    effect ( () => {\r\n        let mounted = true;\r\n        const {prefix} = config;\r\n        const medias = list.map( ([query,value]:[string,T|EP]) => {\r\n            if (query===\"none\")\r\n                noneRef.current = value as T\r\n            if (prefix?.some(q=>q===query))\r\n                return { media:null, fn:null }\r\n            const media = window===undefined? defaultMedia : window.matchMedia(query)\r\n            const fn=()=>mounted&&Boolean(media.matches)&&setGrid(value as T)\r\n            media.addListener(fn)\r\n            mounted && Boolean(media.matches) && setGrid(value as T);\r\n            return { media, fn }\r\n        })\r\n        return ()=>{\r\n            mounted = false;\r\n            medias.map(({media,fn})=>fn&&media?.removeListener(fn));\r\n        }\r\n    }, [list,config] )\r\n\r\n    // ********** ðŸ‘€ âž effect : for useView ðŸ‘€ ********** //\r\n    effect ( ()=> {\r\n        let mounted = true;\r\n        const {timeout=0,once=false,onView=null,} = config;\r\n        const observers = [...refs].map((ref,i) => {\r\n            const el = ref instanceof Element?ref:ref.current\r\n            if ( !el )\r\n                return {observer:null, el}\r\n            const observer = new IntersectionObserver((entries,) => {\r\n                const entry = entries[entries.length-1]\r\n                mounted && setTimeout( () => {\r\n                    viewRef.current[i] = entry.isIntersecting\r\n                    onView && onView(entry.isIntersecting) // TODO input entry\r\n                    noneRef.current && setView(viewRef.current.some(v=>v))\r\n                }, timeout)\r\n                mounted && entry.isIntersecting && once && observer.unobserve(el)\r\n            }, { root:config?.root?.current || null })\r\n            observer.observe(el)\r\n            return {observer, el}\r\n        })\r\n        return () => {\r\n            mounted = false;\r\n            once && observers.map(({observer,el})=> el && observer?.unobserve(el) )\r\n        }\r\n    }, [config] )\r\n    return [view || !noneRef.current ? grid : noneRef.current, set]\r\n}\r\n\r\nexport const useGrid        = createGrid (useEffect);\r\nexport const useLayoutGrid  = createGrid (useLayoutEffect);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// ************************************************** //\r\n// * Ref : https://github.com/streamich/use-media\r\n// ************************************************** //\r\n\r\nimport {useLayoutEffect, useEffect, useState, /*useRef*/} from 'react';\r\nimport {Effect, MediaObject, MediaString, } from '../types'\r\nimport {defaultMedia, convertObjToStr} from '../utils'\r\n\r\nconst createMedia = (effect:Effect) => (\r\n    rawQuery:string|MediaObject, defaultState=false\r\n) : boolean => {\r\n    const query = convertObjToStr(rawQuery);\r\n    const [state, set] = useState<boolean>(defaultState);\r\n    effect (()=>{\r\n        let mounted = true;\r\n        const media:MediaString = (typeof window === undefined)\r\n            ? defaultMedia\r\n            : window.matchMedia(query);\r\n        const onChange =()=> mounted && set(Boolean(media.matches))\r\n        media.addListener(onChange)\r\n        set(media.matches);\r\n        return () => 1&&(mounted=false, media.removeListener(onChange) )\r\n    }, [query])\r\n    return state\r\n}\r\n\r\nexport const useMedia       = createMedia(useEffect);\r\nexport const useLayoutMedia = createMedia(useLayoutEffect);\r\n","import React, {FC} from 'react'\r\nimport {useMedia, useGrid} from '../../src'\r\nexport const Basic:FC<any> = () => {\r\n    const isMedium = useMedia({ minWidth:720, maxWidth:960 });\r\n    const [ fontSize, set ]  = useGrid({ xs:37.5, md:50, lg:75 });\r\n    return (\r\n        <div style={{fontSize, textAlign:\"center\"}}\r\n            onClick={ () => set((p:any)=>({md:p.lg,lg:p.md})) }>\r\n            {isMedium?'ðŸ˜ƒ':'ðŸ˜¢'}\r\n        </div>\r\n    );\r\n};\r\n","import { useGrid, useLayoutGrid } from './useGrid'\r\nimport { defaultConfig, convertFuncToList as cF2L} from '../utils'\r\nimport { Config, Grid, FunctionProps, FunctionAction } from '../types'\r\n\r\n\r\nexport const createGrids = (grid:unknown) => <T extends any> (\r\n    length:number,\r\n    props:FunctionProps<T>,\r\n    refs:React.RefObject<Element>[]|Element[]|[]=[],\r\n    cofig:Config=defaultConfig,\r\n) : [T[], FunctionAction<T>] => {\r\n    if (typeof props==='function')\r\n        props = [...Array(length)].map( (_,i:number) => (props as any)(i) )\r\n    const [grids,set] = (grid as Grid<T[]>)( cF2L(props) , refs, cofig)\r\n    const setGrid = (state:FunctionProps<T>) => {\r\n        if (typeof state==='function')\r\n            state = [...Array(length)].map( (_,i:number) => (state as any)(i) )\r\n        set( cF2L(state) )\r\n    }\r\n    return [grids, setGrid]\r\n}\r\n\r\nexport const useGrids        = createGrids(useGrid);\r\nexport const useLayoutGrids  = createGrids(useLayoutGrid);\r\n\r\n/***   (i) => {md:i,lg:i} or (i) => [[md,i],[lg,i]]\r\n  * => [{md:0,lg:0},{md:1,lg:1}] or [[[md,0],[lg,0]],[[md,1],[lg,1]]]\r\n  * => [[ [md,0], [lg,0] ],[ [md,1], [lg,1] ]]\r\n  * => [[md,[0,1]],[lg,[0,1]]]\r\n ***/\r\n\r\n/*\r\nObject.assign(...Object.keys(state[0]).map( k => {k:states.map(s=>s[k])} ))\r\n[ {x:0,y:0}\r\n  {x:1,y:1}\r\n  {x:2,y:2} ]\r\n=>\r\n{x:[0,1,2],y:[0,1,2]}\r\n*/\r\n","import React from 'react'\r\nimport { useGrids } from '../../src'\r\nexport const Grid = () => {\r\n    const face = ['ðŸ™„','ðŸ¤£','ðŸ§','ðŸ¤¯','ðŸ¤®'];\r\n    const ref  = React.useRef(null)\r\n    const [ws] = useGrids(face.length, (i)=>(i%2===0)\r\n        ? { md: 1/5, xl:i/face.length/3 }\r\n        : { md:1/10, xl:i/face.length/6 }\r\n    , [ref]);\r\n    return (\r\n        <div ref={ref} style={{display:\"grid\", width:\"95%\"}}>\r\n            {face.map( (emoji, i) =>\r\n                <div key={i} style={{width:ws[i]}}>{emoji}</div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","import React, {FC, useRef} from 'react';\r\nimport { useLayoutGrids } from '../../src';\r\n\r\nexport const Grids:FC<any> = () => {\r\n    const ref = useRef(null)\r\n    const [widths] = useLayoutGrids(3, [\r\n        {xs:0, md:0  , lg:-1/2},\r\n        {xs:1, md:-.5, lg:750 },\r\n        {xs:0, md:100, lg:-1/2}\r\n    ], [ref])\r\n    return (\r\n        <div ref={ref} style={{width:\"100%\",display:\"table\"}}>\r\n            {widths.map((width,i)=>\r\n                <div key={i} style={{\r\n                    display:\"table-cell\",width,height:200,\r\n                    color:\"white\",background:`#${i*3}1${i*3}1${i*3}1`\r\n                }}>{width}</div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import {useLayoutEffect, useEffect, useState, useRef} from 'react'\r\nimport {Effect, ViewConfig,ViewChangeHandler} from '../types'\r\nimport {shallowEqual,defaultConfig} from '../utils'\r\n\r\nconst createView = (effect:Effect) => (\r\n    target: React.RefObject<Element> | Element | null,\r\n    callback?: ViewChangeHandler,\r\n    { defaultView,once,timeout,...initialConfig }:ViewConfig=defaultConfig.viewConfig,\r\n) => {\r\n    const [view,set] = useState<boolean>(defaultView===true)\r\n    const configRef = useRef(initialConfig)\r\n    effect(() => {\r\n        if (!shallowEqual(configRef.current, initialConfig))\r\n            configRef.current = initialConfig\r\n    }, [initialConfig] )\r\n    effect(() => {\r\n        let mounted = true;\r\n        const element = target instanceof Element?target:target&&target.current\r\n        if ( !element ) return ()=>{mounted = false;}\r\n        const observer = new IntersectionObserver( (entries) => {\r\n            const entry = entries[entries.length-1]\r\n            callback && callback(entry);\r\n            mounted  && setTimeout(()=>set(entry.isIntersecting), timeout)\r\n            mounted  && entry.isIntersecting && once && observer.unobserve(element);\r\n        } , { ...configRef.current, root:configRef.current?.root?.current || null })\r\n        observer.observe(element)\r\n        return ()=>{\r\n            mounted = false;\r\n            once && observer.unobserve(element)\r\n        }\r\n    }, [configRef.current, target])\r\n    return view\r\n}\r\n\r\nexport const useView       = createView(useEffect)\r\nexport const useLayoutView = createView(useLayoutEffect)\r\n","import React from 'react';\r\nimport {useGrid, useView} from '../../src';\r\nexport const View = () => {\r\n    const ref1 = React.useRef(null)\r\n    const ref2 = React.useRef(null)\r\n    const isView = useView(ref1)\r\n    const [fontSize,set] = useGrid({none:150, md:100,lg:200}, [ref1])\r\n    const [background]   = useGrid({\r\n        none:\"#fff\", init:\"#000\",\r\n        onView:(bool) =>\r\n            set(bool\r\n                ? {md:150, lg:250}\r\n                : {md:100, lg:200})\r\n    }, [ref1, ref2])\r\n    return (\r\n        <div style={{fontSize,background,transition:\"1s\"}}>\r\n            <div ref={ref1}>{'ðŸ˜Ž'}</div>\r\n            {[...Array(5)].map((_,i)=>\r\n                <div key={i}>{isView?'ðŸ˜˜':'ðŸ¤£'}</div>\r\n            )}\r\n            <div ref={ref2}>{'ðŸ˜Ž'}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC, useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport {useGrid} from '../src';\nimport {unregister} from './serviceWorker';\nimport {Head,Card,Notes,Sides,Trans} from '@tsei/core';\nimport * as Examples from './examples';\n//import {useGesture} from 'react-use-gesture';\n//import {useSpring, animated as a} from 'react-spring';\n//import {Mdmd} from '@tsei/mdmd';\n\nimport './styles.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App :FC = () => {\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\n    const [dark, setDark] = useGrid<number>({md:1, lg:0})\n    const [size, setSize] = useGrid<number>({md:1, lg:1.5 })\n    return (\n        <div style={{minHeight:\"100%\",padding:size*100,\n                    transition:\"1s\",background:dark?\"#000\":\"#f1f1f1\",}}>\n            <Head {...{size,dark}}>Examples</Head>\n            {/* TODO initOrder to order */}\n            <Notes {...{size:1}} initOrder={Object.keys(Examples).map((_,i)=>i)}>\n                {Object.entries(Examples).map(([key,Example])=>\n                    <Card key={key}>\n                        <Example />\n                    </Card>)}\n            </Notes>\n            <Sides {...{size}}>\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\n                <p onClick={()=>window.location.href=\"/hook\"}>Hook</p>\n                <p onClick={()=>window.location.href=\"/sign\"}>Sign</p>\n            </Sides>\n            <Trans {...{size}}>\n                <div onClick={()=>setLang(p=>p!=='Ja'?'Ja':'En')}>{lang.toUpperCase()}</div>\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'ðŸŒ›':'ðŸŒž'}</div>\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'ðŸ‘¶':'ðŸ‘¨'}</div>\n            </Trans>\n        </div>\n    )\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\nunregister();\n\n\n/* Debug for Pills\n<Pills {...{fontSize:50, width, dark,open:true}}>\n    <i className=\"fas fa-ellipsis-h\"         onClick={()=>null}>\n        <i className=\"fas fa-share-square\"   onClick={()=>null}>\n            <i className=\"fas fa-bold\"       onClick={()=>null}/>\n        </i>\n    </i>\n</Pills>\n*/\n"],"sourceRoot":""}